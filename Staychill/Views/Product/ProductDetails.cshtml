@model Staychill.Models.ProductModel.Product

@{
    ViewData["Title"] = "Product Details";
}

<div style="display: flex; flex-direction: row; gap: 20px;">
    <!-- โซนแสดงภาพสินค้า -->
    <div style="flex: 1;">
        @if (Model.Images != null && Model.Images.Image1 != null)
        {
            <img src="@($"data:image/png;base64,{Convert.ToBase64String(Model.Images.Image1)}")" alt="Main Image" style="width: 100%; height: auto;" />
        }
        else
        {
            <p>No Image Available</p>
        }
    </div>

    <!-- โซนแสดงรายละเอียดสินค้า -->
    <div style="flex: 1;">
        <h2>@Model.ProductName</h2>
        <p>@Model.Description</p>

        <p><strong>Color:</strong></p>
        <div>
            @for (int i = 0; i < 6; i++) // จำลองวงแสดงวงกลมสี
            {
                <span style="display: inline-block; width: 20px; height: 20px; background-color: gray; border-radius: 50%; margin-right: 10px;"></span>
            }
        </div>

        <p><strong>Price:</strong> @String.Format("{0:C}", Model.Price)</p>

        <!-- ฟอร์มเพิ่มสินค้า -->
        <div style="margin-top: 20px;">
            <form asp-action="CartIndex" asp-controller="Cart" method="post">
                <input type="hidden" name="productId" value="@Model.Id" />
                <label for="quantity">Quantity:</label>
                <button type="button" onclick="this.nextElementSibling.stepDown()">-</button>
                <input type="number" name="quantity" value="1" min="1" max="@Model.Instock" style="width: 50px; text-align: center;" />
                <button type="button" onclick="this.previousElementSibling.stepUp()">+</button>
                <button type="submit" style="margin-left: 20px;">Add to Cart</button>
            </form>
        </div>
    </div>
</div>

<!-- โซนแสดงภาพเพิ่มเติม -->
<div style="margin-top: 30px;">
    <h3>Additional Images</h3>
    <div style="display: flex; gap: 10px;">
        @if (Model.Images != null)
        {
            if (Model.Images.Image2 != null)
            {
                <img src="@($"data:image/png;base64,{Convert.ToBase64String(Model.Images.Image2)}")" alt="Image 2" style="width: 100px; height: auto;" />
            }
            if (Model.Images.Image3 != null)
            {
                <img src="@($"data:image/png;base64,{Convert.ToBase64String(Model.Images.Image3)}")" alt="Image 3" style="width: 100px; height: auto;" />
            }
            if (Model.Images.Image4 != null)
            {
                <img src="@($"data:image/png;base64,{Convert.ToBase64String(Model.Images.Image4)}")" alt="Image 4" style="width: 100px; height: auto;" />
            }
        }
    </div>
</div>

<a asp-action="ProductIndex" style="margin-top: 20px; display: block;">Back to List</a>
